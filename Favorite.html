<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ðŸŽµðŸŽµFavoriteðŸŽµðŸŽµ</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #121212;
            color: white;
            /* padding: 20px; */
            margin: auto;
        }

        .navbar-main {
       background-color: #021427;
       border-bottom: 5px solid rgb(13, 93, 205);
       padding: 2px;

}

.navbar-part {
       display: flex;
       justify-content: center;
}

.navbar {
       display: flex;
       /* margin-top:0; */
       flex-direction: row;
       text-decoration: none;
       font-size: 18px;
       padding: 12px;
       color: white;
       font-style: oblique;
       font-weight: 1000;
}

.navbar:hover {
       background-color: rgb(100, 232, 255);
       color: rgb(10, 54, 253);
       box-shadow: 2px 1px 1px 2px rgb(89, 91, 227);
}

        /* Music card */

        .track-card {
            background-color: #1db954;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            overflow: hidden;
            margin: 10px;
            width: 300px;
            text-align: center;
            position: relative;
        }

        .track-card img {
            width: 100%;
            border-bottom: 2px solid #1db954;
        }

        .track-card .details {
            padding: 10px;
            position: relative;
        }

        .track-card .details h2 {
            margin: 10px 0;
            font-size: 18px;
        }

        .track-card .details p {
            margin: 5px 0;
            font-size: 14px;
            color: #b3b3b3;
        }

        .track-card iframe {
            width: 100%;
            height: 80px;
            border: none;
        }

        .card-row > #favoriteTracksContainer{
            display: flex;
            flex-direction: row;
            flex-wrap: wrap;
            justify-content: center;
        }

        .footer-text {
            text-align: center;
        }
    </style>
</head>

<body>
    <div class="navbar-main" style="border-bottom: 5px solid rgb(13, 93, 205);">
        <h1
            style="display: flex; justify-content: center; font-size: 75px; margin: 0; border-bottom: 5px solid rgb(13, 93, 205); color: rgb(0, 102, 255);">
            Favorites</h1>
        <div class="navbar-part">
            <a href="About.html" class="navbar"><b>About</b></a>
        <a href="Music.html" class="navbar"><b>Music</b></a>
        <a href="index.html" class="navbar"><b>Home</b></a>
        <a href="login.html" class="navbar"><b>Login</b></a>
        <a href="register.html" class="navbar"><b>Register</b></a>
        <a href="genres.html" class="navbar"><b>Genres</b></a>
        </div>
    </div>
    <div class="card-row">
        <div id="favoriteTracksContainer"></div>
    </div>
    <div class="footer-text">
        <h1>Nhá»¯ng bÃ i hÃ¡t Ä‘Æ°á»£c báº¡n yÃªu thÃ­ch sáº½ xuáº¥t hiá»‡n táº¡i Ä‘Ã¢y</h1>
        <h2>Náº¿u báº¡n chÆ°a cÃ³ bÃ i hÃ¡t yÃªu thÃ­ch cá»§a riÃªng mÃ¬nh hÃ£y thÆ°á»Ÿng thá»©c thá»­ cÃ¡c báº£n nháº¡c Táº¾T thÃº vá»‹ á»Ÿ pháº§n<br><a
                href="Music.html" style="text-decoration: none; color: rgb(160, 3, 144);">Music</a></h2>
    </div>
</body>
<script>
    
    

    document.addEventListener('DOMContentLoaded', function () {
        const favoriteTracksContainer = document.getElementById('favoriteTracksContainer');
        favoriteTracksContainer.innerHTML = ''; // Clear previous content

        // Loop through localStorage to retrieve favorite tracks
        for (let i = 0; i < localStorage.length; i++) {
            const trackId = localStorage.key(i);
            const favoriteInfo = JSON.parse(localStorage.getItem(trackId));
            // const isFavorited = localStorage.getItem(trackId) === 'true';

            if (favoriteInfo) {
            const { trackName, imageName, artist} = favoriteInfo;

            // Create a card for each favorite track
            const trackCardHTML = `
                <div class="track-card">
                    <img src="${imageName}" alt="Track Image">
                    <div class="details">
                        <h2>${trackName}</h2>
                        <p>${artist}</p>
                        <iframe src="https://open.spotify.com/embed/track/${trackId}" allow="encrypted-media"></iframe>
                    </div>
                </div>
            `;
            favoriteTracksContainer.innerHTML += trackCardHTML;
        }
        }
    });
</script>

</html>